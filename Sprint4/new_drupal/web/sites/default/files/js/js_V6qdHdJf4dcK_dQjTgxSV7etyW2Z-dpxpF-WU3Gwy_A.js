/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings,once){Drupal.webform=Drupal.webform||{};Drupal.webform.intlTelInput=Drupal.webform.intlTelInput||{};Drupal.webform.intlTelInput.options=Drupal.webform.intlTelInput.options||{};Drupal.behaviors.webformTelephoneInternational={attach:function(context){if(!$.fn.intlTelInput)return;$(once('webform-telephone-international','input.js-webform-telephone-international',context)).each(function(){var $telephone=$(this);var $error=$('<strong class="error form-item--error-message">'+Drupal.t('Invalid phone number')+'</strong>').hide();$telephone.closest('.js-form-item').append($error);var options={utilsScript:drupalSettings.webform.intlTelInput.utilsScript,nationalMode:false};if($telephone.attr('data-webform-telephone-international-initial-country'))options.initialCountry=$telephone.attr('data-webform-telephone-international-initial-country');if($telephone.attr('data-webform-telephone-international-preferred-countries'))options.preferredCountries=JSON.parse($telephone.attr('data-webform-telephone-international-preferred-countries'));options=$.extend(options,Drupal.webform.intlTelInput.options);$telephone.intlTelInput(options);var reset=function(){$telephone.removeClass('error');$error.hide();};var validate=function(){if($telephone.val().trim())if(!$telephone.intlTelInput('isValidNumber')){$telephone.addClass('error');var placeholder=$telephone.attr('placeholder');var message;if(placeholder)message=Drupal.t('The phone number is not valid. (e.g. @example)',{'@example':placeholder});else message=Drupal.t('The phone number is not valid.');$error.html(message).show();return false;}return true;};$telephone.on('blur',function(){reset();validate();});$telephone.on('keyup change',reset);var $form=$(this.form);$form.on('submit',function(event){if(!validate()){$telephone.focus();event.preventDefault();if(Drupal.behaviors.webformSubmitOnce)Drupal.behaviors.webformSubmitOnce.clear();}});});}};})(jQuery,Drupal,drupalSettings,once);;
(function($,Drupal,once){Drupal.webform=Drupal.webform||{};Drupal.webform.termsOfServiceModal=Drupal.webform.termsOfServiceModal||{};Drupal.webform.termsOfServiceModal.options=Drupal.webform.termsOfServiceModal.options||{};Drupal.behaviors.webformTermsOfService={attach:function(context){$(once('webform-terms-of-service','.js-form-type-webform-terms-of-service',context)).each(function(){var $element=$(this);var $a=$element.find('label a');var $details=$element.find('.webform-terms-of-service-details');var type=$element.attr('data-webform-terms-of-service-type');if(type==='modal'){var $title=$element.find('.webform-terms-of-service-details--title');if($title.length){$details.attr('title',$title.text());$title.remove();}var options=$.extend({modal:true,autoOpen:false,minWidth:600,maxWidth:800},Drupal.webform.termsOfServiceModal.options);$details.dialog(options);}if(type!=='modal')$a.attr({'aria-expanded':false,'aria-controls':$details.attr('id')});$a.on('click',openDetails).on('keydown',function(event){if(event.which===32||event.which===13)openDetails(event);});function openDetails(event){if(type==='modal')$details.dialog('open');else{var expanded=($a.attr('aria-expanded')==='true');$a.attr('aria-expanded',!expanded);$details[expanded?'slideUp':'slideDown']();}event.preventDefault();}});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){Drupal.behaviors.webformTextFormat={attach:function(context){$(once('webform-text-format','.js-text-format-wrapper textarea',context)).each(function(){if(!window.CKEDITOR)return;var $textarea=$(this);$textarea.on('change',function(){if(CKEDITOR.instances[$textarea.attr('id')]){var editor=CKEDITOR.instances[$textarea.attr('id')];editor.setData($textarea.val());}});$textarea.on('webform:disabled',function(){if(CKEDITOR.instances[$textarea.attr('id')]){var editor=CKEDITOR.instances[$textarea.attr('id')];editor.setReadOnly($textarea.is(':disabled'));}});});}};})(jQuery,Drupal,once);;
