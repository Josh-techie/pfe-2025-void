/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){if(window.Inputmask)window.Inputmask.extendAliases({currency:{prefix:'$ ',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:2,digitsOptional:false,clearMaskOnLostFocus:false},currency_negative:{prefix:'$ ',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:2,digitsOptional:false,clearMaskOnLostFocus:false},currency_positive_negative:{prefix:'$ ',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:2,digitsOptional:false,clearMaskOnLostFocus:false},decimal:{prefix:'',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:3,digitsOptional:true,clearMaskOnLostFocus:false},decimal_negative:{prefix:'',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:3,digitsOptional:true,clearMaskOnLostFocus:false},decimal_positive_negative:{prefix:'',groupSeparator:',',alias:'numeric',placeholder:'0',autoGroup:true,digits:3,digitsOptional:true,clearMaskOnLostFocus:false}});Drupal.behaviors.webformInputMask={attach:function(context){if(!$.fn.inputmask)return;$(once('webform-input-mask','input.js-webform-input-mask',context)).inputmask();}};})(jQuery,Drupal,once);;
(function($,Drupal,once){Drupal.behaviors.webformColor={attach:function(context){$(once('webform-color','.form-color:not(.form-color-output)',context)).each(function(){var $element=$(this);var $output=$('<input class="form-color-output '+$element.attr('class')+' js-webform-input-mask" data-inputmask-mask="\\#######" />').uniqueId();var $label=$element.parent('.js-form-type-color').find('label').clone();var id=$output.attr('id');$label.attr({for:id,class:'visually-hidden'});if($.fn.inputmask)$output.inputmask();$output[0].value=$element[0].value;$element.after($output).after($label).css({float:'left'});$element.on('input',function(){$output[0].value=$element[0].value;});$output.on('input',function(){$element[0].value=$output[0].value;});});}};})(jQuery,Drupal,once);;
(function($,Drupal){Drupal.behaviors.webformDetailsInvalid={attach:function(context){$('details :input',context).on('invalid',function(){$(this).parents('details:not([open])').children('summary').trigger('click');if(Drupal.webform&&Drupal.webform.detailsToggle)Drupal.webform.detailsToggle.setDetailsToggleLabel($(this.form));});}};})(jQuery,Drupal);;
(function($,Drupal){$(document).on('state:required',function(e){if(e.trigger&&e.target&&e.target.id){var $element=$('#'+e.target.id);if($element.hasClass('webform-likert-table'))if(e.value)$element.find('tr td:first-child label').addClass('js-form-required form-required');else $element.find('tr td:first-child label').removeClass('js-form-required form-required');}});})(jQuery,Drupal);;
(function($,Drupal,once){Drupal.behaviors.webformElementMore={attach:function(context){$(once('webform-element-more','.js-webform-element-more',context)).each(function(event){var $more=$(this);var $a=$more.find('a').first();var $content=$more.find('.webform-element-more--content');$a.attr({'aria-expanded':false,'aria-controls':$content.attr('id')});$a.parent().on('click',toggle).on('keydown',function(event){if(event.which===32||event.which===13)toggle(event);});function toggle(event){var expanded=($a.attr('aria-expanded')==='true');$a.attr('aria-expanded',!expanded);if(expanded){$more.removeClass('is-open');$content.slideUp();}else{$more.addClass('is-open');$content.slideDown();}event.preventDefault();}});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){Drupal.behaviors.webformMultipleTableDrag={attach:function(context,settings){for(var base in settings.tableDrag)if(settings.tableDrag.hasOwnProperty(base))$(once('webform-multiple-table-drag','.js-form-type-webform-multiple #'+base,context)).each(function(){var $tableDrag=$(this);var $toggleWeight=$tableDrag.prev().prev('.tabledrag-toggle-weight-wrapper');if($toggleWeight.length){$toggleWeight.addClass('webform-multiple-tabledrag-toggle-weight');$tableDrag.after($toggleWeight);}});}};Drupal.behaviors.webformMultipleAdd={attach:function(context,settings){$(once('webform-multiple-add','.js-webform-multiple-add',context)).each(function(){var $submit=$(this).find('input[type="submit"], button');var $number=$(this).find('input[type="number"]');$number.keyup(function(event){if(event.which===13)$submit.trigger('mousedown');});});}};})(jQuery,Drupal,once);;
(function($,Drupal){Drupal.behaviors.webformOptionsButtons={attach:function(context){$(context).find('label.webform-options-display-buttons-label > input[type="checkbox"], label.webform-options-display-buttons-label > input[type="radio"]').each(function(){var $input=$(this);var $label=$input.parent();$input.detach().insertBefore($label);});}};})(jQuery,Drupal);;
(function($,Drupal,once){Drupal.behaviors.webformRangeOutputNumber={attach:function(context){$(once('webform-range-output-number','.js-form-type-range',context)).each(function(){var $element=$(this);var $input=$element.find('input[type="range"]');var $output=$element.find('input[type="number"]');if(!$output.length)return;$output.val($input.val());$input.on('change input',function(){$output.val($input.val());});$output.on('change input',function(){$input.val($output.val());});});}};Drupal.behaviors.webformRangeOutputBubble={attach:function(context){$(once('webform-range-output-bubble','.js-form-type-range',context)).each(function(){var $element=$(this);var $input=$element.find('input[type="range"]');var $output=$element.find('output');var display=$output.attr('data-display');if(!$output.length)return;$element.css('position','relative');$input.on('change input',function(){var inputValue=$input.val();var text=($output.attr('data-field-prefix')||'')+inputValue+($output.attr('data-field-suffix')||'');$output.text(text);var top;if(display==='above')top=$input.position().top-$output.outerHeight()+2;else top=$input.position().top+$input.outerHeight()+2;var inputWidth=$input.outerWidth();var buttonPosition=Math.floor(inputWidth*(inputValue-$input.attr('min'))/($input.attr('max')-$input.attr('min')));var increment=Math.floor(inputWidth/5);var outputWidth=$output.outerWidth();var left;if(buttonPosition<=increment)left=0;else if(buttonPosition<=increment*2){left=(increment*1.5)-outputWidth;if(left<0)left=0;}else if(buttonPosition<=increment*3)left=(increment*2.5)-(outputWidth/2);else if(buttonPosition<=increment*4){left=(increment*4)-outputWidth;if(left>(increment*5)-outputWidth)left=(increment*5)-outputWidth;}else{if(buttonPosition<=inputWidth)left=(increment*5)-outputWidth;}left=Math.floor($input.position().left+left);$output.css({top,left});}).trigger('input');var defaultOpacity=$output.css('opacity');if(defaultOpacity<1){$input.on('focus mouseover',function(){$output.stop().fadeTo('slow',1);});$input.on('blur mouseout',function(){$output.stop().fadeTo('slow',defaultOpacity);});$output.on('touchstart mouseover',function(){$output.stop().fadeTo('slow',1);});}});}};})(jQuery,Drupal,once);;
